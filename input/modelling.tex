\section{Modelagem do sistema}
\label{sec:modelling}
%===============================================================================

O objetivo da modelagem de um sistema é encontrar um modelo (função com parâmetros
livres) que consiga representar o sistema físico de forma completa. A partir do
conhecimento do sistema físico, fazem-se considerações sobre o sistema, para simplifica-lo
a fim de tornar o modelo matemático o mais simples possível, mas que ainda represente
o sistema real, com a margem de preciosidade definida, pela quantidade e qualidade 
das simplificações aplicadas para chegar-se ao modelo matemático do sistema.
\cite{system_identification}

\subsection{Sistema Físico}
%===============================================================================

O sistema físico em estudo neste trabalho, é um sistema para controle de posição, onde 
o atuador é um motor de corrente continua (DC). Desta forma a entrada do sistema 
é a tensão aplicada sobre os terminais do motor em Volts [V], e a saída é a posição
angular do motor em radianos [rad].

Na Figura (\ref{fig:motor_system}) pode ser vista a representação elétrica e mecânica
do motor em questão.

\begin{figure}[htbp]
	\center
	\includegraphics[width=0.7\columnwidth]{figures/motor_system.eps}
	\caption{Representação elétrica e mecânica do motor}
	\label{fig:motor_system}
\end{figure}

As variáveis consideradas para a modelagem são as apresentadas abaixo:

\begin{itemize}
	\item $\omega$ = Velocidade do motor.
	\item \it{v} = Tensão aplicada na armadura.
	\item \it{ia} = corrente de armadura.
	\item \it{L} = Indutância da armadura.
	\item \it{e} = Forca contra eletromotriz = $K_{2} \omega$
	\item \it{R} = Resistência do enrolamento da armadura.
	\item \it{T} = Torque aplicado = $K_{i} ia$
	\item \it{J} = Momento de inercia da carga.
	\item \it{f} = Atrito viscoso no eixo.
\end{itemize}

Tem-se desta forma as duas equações que descrevem o sistema para a parte elétrica
(\ref{eq:motor_elet}) e mecânica (\ref{eq:motor_mec}).

\begin{equation}
V-R\cdot Ia - L\frac{\mathrm{d} Ia}{\mathrm{d} x}-e = 0
\label{eq:motor_elet}
\end{equation}

\begin{equation}
J \dot{\omega}= T-f\omega
\label{eq:motor_mec}
\end{equation}

A partir destas equações diferenciais pode-se chegar ao sistema de equações de estado 
descrito em (\ref{eq:motor_eq_estados}).

\begin{equation}
\begin{matrix}
\begin{bmatrix}
\dot{Ia}\\ 
\dot{\omega} \\
\dot{\theta}
\end{bmatrix}= &
\begin{bmatrix}
-R/L & -K_2/L & 0\\ 
K_i/J & -f/J & 0 \\
0 & 1 & 0
\end{bmatrix}&
\begin{bmatrix}
Ia\\ 
\omega \\
\theta
\end{bmatrix} + &
\begin{bmatrix}
1\\ 
0\\
0
\end{bmatrix} V
\end{matrix}
\label{eq:motor_eq_estados}
\end{equation}

Com este sistema de equações de estado, é possível obter-se as fumões de transferências,
que descrevem o sistema, para uma entrada e uma saída. Na equação (\ref{eq:motor_pos_tf}) 
apresenta-se a função de transferência do motor, que relaciona a posição com a tensão de entrada
do motor.

\begin{equation}
G(s)=\frac{k_1/JL}{s(s+f/L)(s+R/L)+s\;k_1 k_2/JL}
\label{eq:motor_pos_tf}
\end{equation}

Devido a dinâmica do sistema mecânico ser muito menor que a dinâmica do sistema elétrico, 
pode-se desconsiderar a influencia do polo elétrico do sistema, ficando a função de transferência
como a seguir:

\begin{equation}
G(s)=\frac{\frac{k_1}{JL}}{s(s+\frac{fL+k_1 k_2}{JL})}
\nonumber
\end{equation}

A equação anterior (\ref{eq:motor_pos_tf}) representa o comportamento da posição angular do motor
baseado na entrada de tensão aplicada sobre seus terminais. Esta Função de transferência descreve este
comportamento em tempo continuo, nosso sistema é digital e com isso precisamos de uma
representação discreta para esta mesma função, para isso pode ser utilizados diversos métodos, como
Euler backward, Euler forward, entre outras aproximações. Iremos neste trabalho utilizar a aproximação
de Euler Forward (\ref{eq:modelling_forward}).

\begin{equation}
s\cong \frac{(z-1)}{T_S}
\label{eq:modelling_forward}
\end{equation}

Desta forma, chega-se a uma função de transferência (\ref{eq:motor_pos_tf_disc}).

\begin{equation}
G(z)=\frac{a}{(z-1)(z-b)}
\label{eq:motor_pos_tf_disc}
\end{equation}

Onde :

\begin{equation}
\begin{matrix}
a=\alpha \;T_S^2\\ \;\\
b=\beta T_S-1\\ \;\\
\alpha = \frac{k_1}{JL}\\ \;\\
\beta = \frac{fL+k_1 k_2}{JL}
\end{matrix}
\nonumber
\end{equation}

Com $T_S$ sendo a frequência de amostragem utilizada.

Desta forma chega-se a uma modelagem do sistema que relaciona a posição em função da tensão aplicada
sobre o motor. Para tanto foi considerado que a dinâmica da parte mecânica do sistema é muito mais
predominante que a dinâmica da parte elétrica, podendo esta ser desconsiderada para que o sistema 
se torne um pouco mais simples.

